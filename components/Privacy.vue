<template>
    <div
      v-if="show"
      class="fixed inset-0 z-50 flex items-center justify-center p-4"
      @click.self="closeModal"
    >
      <div class="absolute inset-0 bg-black/60 backdrop-blur-sm"></div>

      <div
        class="relative bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[85vh] overflow-hidden"
      >
        <div
          class="sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between"
        >
          <h2 class="text-2xl font-bold text-[#191919]">
            Pol√≠tica de Privacidade e Uso de Cookies
          </h2>
        </div>

        <div class="px-6 py-6 overflow-y-auto max-h-[calc(85vh-80px)]">
          <div class="prose prose-sm max-w-none text-gray-700 space-y-6">
            <section>
              <h3 class="">
                1. Introdu√ß√£o
              </h3>
              <p>
                Bem-vindo ao Controle de Gastos por Voz. Esta pol√≠tica descreve
                de forma transparente como funciona nossa aplica√ß√£o e quais
                informa√ß√µes s√£o necess√°rias para conectar seu Notion ao bot do
                Telegram.
              </p>
            </section>

            <section>
              <h3 class="text-lg font-semibold text-[#191919] mb-3">
                2. Informa√ß√µes que Coletamos
              </h3>
              <p class="mb-3">
                Nossa aplica√ß√£o coleta apenas as informa√ß√µes m√≠nimas necess√°rias
                para funcionar:
              </p>
              <ul class="list-disc pl-6 space-y-2">
                <li>
                  <strong>Token de Acesso do Notion:</strong> Usado
                  temporariamente durante a autentica√ß√£o OAuth
                </li>
                <li>
                  <strong>ID do Banco de Dados:</strong> Identificador da
                  database Notion que voc√™ escolhe conectar
                </li>
                <li>
                  <strong>C√≥digo de Conex√£o:</strong> Gerado automaticamente
                  para vincular Telegram ao Notion
                </li>
                <li>
                  <strong>ID do Telegram:</strong> Necess√°rio para identificar
                  quem enviou o √°udio
                </li>
              </ul>
              <div
                class="mt-3 p-3 bg-green-50 border-l-4 border-green-500 rounded"
              >
                <p class="text-sm text-green-900">
                  <strong>‚úì Importante:</strong> N√£o acessamos, lemos ou
                  armazenamos o conte√∫do dos seus bancos de dados Notion. Apenas
                  obtemos o ID necess√°rio para estabelecer a conex√£o.
                </p>
              </div>
            </section>

            <section>
              <h3 class="text-lg font-semibold text-[#191919] mb-3">
                3. Como Funcionamos (Arquitetura)
              </h3>
              <p class="mb-2">
                O fluxo da aplica√ß√£o √© completamente transparente:
              </p>
              <ol class="list-decimal pl-6 space-y-2">
                <li>Voc√™ autoriza a conex√£o com Notion via OAuth 2.0</li>
                <li>
                  As credenciais s√£o enviadas diretamente para o webhook n8n
                  (nosso processador de automa√ß√£o)
                </li>
                <li>O bot Telegram recebe seus √°udios e os processa via IA</li>
                <li>As despesas s√£o salvas diretamente no SEU Notion</li>
              </ol>
              <div
                class="mt-3 p-3 bg-blue-50 border-l-4 border-blue-500 rounded"
              >
                <p class="text-sm text-blue-900">
                  <strong>üîí Seguran√ßa:</strong> N√£o possu√≠mos banco de dados
                  pr√≥prio. Todas as informa√ß√µes trafegam de forma criptografada
                  (HTTPS) e n√£o s√£o armazenadas em nossos servidores.
                </p>
              </div>
            </section>

            <section>
              <h3 class="text-lg font-semibold text-[#191919] mb-3">
                4. Uso dos Dados
              </h3>
              <p class="mb-2">
                As informa√ß√µes coletadas s√£o usadas exclusivamente para:
              </p>
              <ul class="list-disc pl-6 space-y-2">
                <li>Estabelecer e manter a conex√£o entre Telegram e Notion</li>
                <li>Processar e transcrever suas mensagens de √°udio via IA</li>
                <li>
                  Extrair informa√ß√µes de despesas (valor, categoria, data e
                  descri√ß√£o)
                </li>
                <li>Salvar automaticamente no seu workspace Notion</li>
              </ul>
            </section>

            <section>
              <h3 class="text-lg font-bold text-[#191919] mb-3">
                5. Armazenamento (ou melhor, a falta dele)
              </h3>
              <p class="mb-2">
                <strong>N√£o armazenamos seus dados.</strong> Veja como funciona:
              </p>
              <ul class="list-disc pl-6 space-y-2">
                <li>
                  <strong>Sess√£o tempor√°ria:</strong> Dados mantidos apenas
                  durante a autentica√ß√£o OAuth
                </li>
                <li>
                  <strong>Sem banco de dados:</strong> A aplica√ß√£o n√£o possui
                  storage permanente
                </li>
                <li>
                  <strong>√Åudios descartados:</strong> Processados e exclu√≠dos
                  imediatamente ap√≥s transcri√ß√£o
                </li>
                <li>
                  <strong>Dados no SEU Notion:</strong> Suas despesas ficam
                  apenas no seu workspace
                </li>
              </ul>
            </section>

            <section>
              <h3 class="text-lg font-semibold text-[#191919] mb-3">
                6. Compartilhamento de Informa√ß√µes
              </h3>
              <p class="mb-2">As informa√ß√µes s√£o transmitidas apenas para:</p>
              <ul class="list-disc pl-6 space-y-2">
                <li>
                  <strong>Webhook n8n:</strong> Para processar a automa√ß√£o entre
                  Telegram e Notion
                </li>
                <li>
                  <strong>API do Notion:</strong> Para autentica√ß√£o e grava√ß√£o
                  de despesas
                </li>
                <li>
                  <strong>API do Telegram:</strong> Para receber mensagens de
                  √°udio
                </li>
                <li>
                  <strong>Servi√ßos de IA:</strong> Para transcri√ß√£o de √°udio e
                  extra√ß√£o de dados
                </li>
              </ul>
              <p class="mt-3">
                <strong
                  >N√£o vendemos, alugamos ou compartilhamos suas informa√ß√µes com
                  terceiros</strong
                >
                al√©m dos servi√ßos t√©cnicos necess√°rios listados acima.
              </p>
            </section>

            <section>
              <h3 class="text-lg font-semibold text-[#191919] mb-3">
                7. Seguran√ßa
              </h3>
              <ul class="list-disc pl-6 space-y-2">
                <li>Todas as comunica√ß√µes usam <strong>HTTPS/SSL</strong></li>
                <li>
                  Credenciais sens√≠veis armazenadas em
                  <strong>vari√°veis de ambiente</strong>
                </li>
                <li>
                  Seguimos as pr√°ticas do <strong>protocolo OAuth 2.0</strong>
                </li>
                <li>Nenhum dado financeiro armazenado em nossos servidores</li>
              </ul>
            </section>

            <section>
              <h3 class="text-lg font-semibold text-[#191919] mb-3">
                8. Seus Direitos
              </h3>
              <p class="mb-2">Voc√™ tem total controle:</p>
              <ul class="list-disc pl-6 space-y-2">
                <li>
                  Revogar o acesso nas configura√ß√µes do Notion a qualquer
                  momento
                </li>
                <li>Desconectar a integra√ß√£o quando desejar</li>
                <li>Solicitar informa√ß√µes sobre o processamento de dados</li>
                <li>Seus dados no Notion continuam sendo 100% seus</li>
              </ul>
            </section>

            <section>
              <h3 class="text-lg font-semibold text-[#191919] mb-3">
                9. Cookies
              </h3>
              <p>
                Utilizamos apenas cookies de sess√£o essenciais durante o
                processo de autentica√ß√£o OAuth.
                <strong
                  >N√£o usamos cookies de rastreamento ou publicidade.</strong
                >
              </p>
            </section>

            <section>
              <h3 class="text-lg font-semibold text-[#191919] mb-3">
                10. Contato
              </h3>
              <p>
                Se voc√™ tiver d√∫vidas sobre esta pol√≠tica de privacidade ou
                sobre como tratamos seus dados, entre em contato conosco pelo email:
                <a
                  href="mailto:dcr.tecnologi@gmail.com"
                  class="text-blue-600 hover:underline"
                  >dcr.tecnologi@gmail.com</a
                >
              </p>
            </section>
            <p class="text-sm text-gray-500 pb-11">
              <strong>√öltima atualiza√ß√£o:</strong> Janeiro de 2026
            </p>
          </div>
        </div>

        <div class="sticky bottom-0 px-6 pt-4 pb-2 bg-white">
          <button
            @click="closeModal"
            class="w-full bg-[#191919] text-white py-4 rounded-lg font-medium hover:bg-gray-800 transition-colors"
          >
            Entendi
          </button>
        </div>
      </div>
    </div>
</template>

<style scoped>
  h3{
   @apply text-lg font-semibold text-[#191919] mb-3
  }
</style>

<script setup>

const props = defineProps({
  show: {
    type: Boolean,
    default: false,
  },
});

const emit = defineEmits(["close"]);

const closeModal = () => {
  emit("close");
};
</script>
